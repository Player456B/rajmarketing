<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Invoice - Raj Marketing</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f3f3f3;
      margin: 0;
      padding: 30px;
    }

    .invoice-box {
      background: white;
      max-width: 900px;
      margin: auto;
      padding: 30px;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
      border-radius: 10px;
    }

    .header {
      display: flex;
      justify-content: space-between;
    }

    .logo h2 {
      margin: 0;
    }

    .invoice-details {
      text-align: right;
    }

    .bill-to {
      margin-top: 30px;
    }

    .bill-to input {
      border: none;
      border-bottom: 1px solid #ccc;
      width: 300px;
      margin: 5px 0;
    }

    .item-table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }

    .item-table th, .item-table td {
      border: 1px solid #ddd;
      padding: 10px;
    }

    .item-table input {
      width: 100%;
      border: none;
      font-family: 'Poppins', sans-serif;
    }

    .summary {
      margin-top: 20px;
      text-align: right;
    }

    .payment-info {
      margin-top: 30px;
      font-size: 14px;
    }

    .terms {
      font-size: 12px;
      margin-top: 30px;
    }

    .sign {
      text-align: right;
      margin-top: 40px;
    }

    button {
      display: block;
      margin: 40px auto 0;
      padding: 10px 20px;
      background: black;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="invoice-box" id="invoice">
    <div class="header">
      <div class="logo">
        <h2>Raj Marketing</h2>
        <p>Private Limited</p>
      </div>
      <div class="invoice-details">
        <h1>Invoice</h1>
        <p>Invoice #: <span id="invoiceNumber">#RM5789</span></p>
        <p>Date: <span id="invoiceDate"></span></p>
      </div>
    </div>

    <div class="bill-to">
      <strong>Bill To:</strong><br>
      <input type="text" placeholder="Customer Name" id="customerName"><br>
      <input type="text" placeholder="Address"><br>
      <input type="text" placeholder="+91 1234567890">
    </div>

    <table class="item-table">
      <thead>
        <tr>
          <th>Item Description</th>
          <th>Price</th>
          <th>Qty</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="items">
        <tr>
          <td><input value="Web Design" /></td>
          <td><input type="number" class="price" value="750" /></td>
          <td><input type="number" class="qty" value="2" /></td>
          <td class="line-total">$1500</td>
        </tr>
        <tr>
          <td><input value="Wedding Photography" /></td>
          <td><input type="number" class="price" value="1300" /></td>
          <td><input type="number" class="qty" value="1" /></td>
          <td class="line-total">$1300</td>
        </tr>
        <tr>
          <td><input value="Web Development" /></td>
          <td><input type="number" class="price" value="300" /></td>
          <td><input type="number" class="qty" value="4" /></td>
          <td class="line-total">$1200</td>
        </tr>
        <tr>
          <td><input value="Brochure Design" /></td>
          <td><input type="number" class="price" value="1700" /></td>
          <td><input type="number" class="qty" value="1" /></td>
          <td class="line-total">$1700</td>
        </tr>
      </tbody>
    </table>

    <div class="summary">
      <p>Sub Total: $<span id="subtotal">5700</span></p>
      <p>Tax (18%): $<span id="tax">0</span></p>
      <p>Discount (10%): -$<span id="discount">0</span></p>
      <h2>Grand Total: $<span id="grandTotal">0</span></h2>
    </div>

    <div class="payment-info">
      <p><strong>Payment Method:</strong><br>
        Payment: Visa, MasterCard<br>
        PayPal: paypal@rajmarketing.com</p>

      <p><strong>Contact:</strong><br>
        #123 Street, City<br>
        +91 1234567890<br>
        www.rajmarketing.com</p>
    </div>

    <p class="terms">
      <strong>Terms & Conditions:</strong><br>
      Goods once sold will not be taken back or exchanged.
    </p>

    <div class="sign">
      <p>Mark Williams<br><span>Manager</span></p>
    </div>

    <button onclick="downloadPDF()">Download PDF</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const invoiceDate = document.getElementById("invoiceDate");
      invoiceDate.textContent = new Date().toLocaleDateString();

      const priceInputs = document.querySelectorAll(".price");
      const qtyInputs = document.querySelectorAll(".qty");

      function calculateTotals() {
        let subtotal = 0;

        document.querySelectorAll("#items tr").forEach(row => {
          const price = parseFloat(row.querySelector(".price").value || 0);
          const qty = parseInt(row.querySelector(".qty").value || 0);
          const total = price * qty;
          row.querySelector(".line-total").textContent = `$${total.toFixed(2)}`;
          subtotal += total;
        });

        const tax = subtotal * 0.18;
        const discount = subtotal * 0.10;
        const grandTotal = subtotal + tax - discount;

        document.getElementById("subtotal").textContent = subtotal.toFixed(2);
        document.getElementById("tax").textContent = tax.toFixed(2);
        document.getElementById("discount").textContent = discount.toFixed(2);
        document.getElementById("grandTotal").textContent = grandTotal.toFixed(2);
      }

      priceInputs.forEach(input => input.addEventListener("input", calculateTotals));
      qtyInputs.forEach(input => input.addEventListener("input", calculateTotals));
      calculateTotals();
    });

    function downloadPDF() {
      const element = document.getElementById("invoice");
      html2pdf().from(element).save("invoice.pdf");
    }
  </script>
</body>
</html>
